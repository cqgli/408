# 计算机系统概述

1. 机器字长：等于内部运算器和通用寄存器的宽度
2. 机器字长和存储字长，指令字长可以相等可以不等
3. 存储字长：一个存储单元内的字长
4. 指令字长取决于指令的功能和格式：可以是单字长，半字长，双字长
5. 内部寄存器：包括IR,MAR,MDR,
6. IPC:和CPI互为倒数，也可以表示计算机系统性能

# 数据表示和运算

1. 补码和移码有相同的表示范围
2. 移码 = 真值+偏移量
3. 双符号位的表示时，只存储一个符号位，只有在ALU中才用两个符号位
4. 补码做减法时，输入位为原来的补码的反，进位信息为1，（就是减去等于加上补码的负数）
5. 基数大的表示范围更大，精度更小
6. 规格化浮点数的主要作用是增加数据的表示精度
7. 浮点数的对阶和舍入不一定产生误差
8. 阶码的范围为1-254，也就是-126到127
   1. 当为全0时，尾数非0则表示非规格化正数和负数
   2. 当阶码全1，尾数非零表示NaN
   3. 当都全为1，表示无穷
   4. 都全为0，表示0

# 存储系统

1. 地址复用：就是行列地址线，分两次传送
2. 内存：ram和rom构成
3. 读取需要的存储周期：先看数据起始芯片位置，然后，根据所占行判断
4. DRAM：采用地址复用技术
5. 判断芯片起始地址：先看地址线位数，然后看片选线位数，然后再计算
6. 磁盘以组（批）的方式进行数据读写，采用直接存储器存取dma的方式进行输入输出
7. 时间局部性：一个变量被重复利用
8. 空间局部性：一个变量的附近变量被利用
9. **按字节编址就是**，每个编号对应一个字节大小的存储单元。
10. **注意按什么编址，注意数据大小单位，**
11. 突发传送：可以连续传送多个数据
12. 时钟周期类
    1. 总线事务 = 发送和读指令+准备数据时间+传输时间
13. 地址类
    1. cache地址数 = 有效位+脏位（写回法）+替换控制位（LRU）+标记位+数据位
    2. 有效位1位
    3. 脏位1位
    4. 替换控制位：按照计数器位数
    5. 标记位 = 主存地址位-块地址位-组号位/行号位

# 指令系统

1. ISA规定了每条指令的操作码，操作数，寻址方式，指令功能和效果
2. 相对寻址的偏移量是补码形式
3. 相对寻址，以下一条的地址为基准的偏移量
4. 程序计数器的位数取决于存储器的字数，指令寄存器取决于指令字长
5. **小端模式**：
   - **最低有效字节（LSB）**：存储在最低的内存地址。
   - **最高有效字节（MSB）**：存储在最高的内存地址。
6. **大端模式**：
   - **最低有效字节（LSB）**：存储在最高的内存地址。
   - **最高有效字节（MSB）**：存储在最低的内存地址。
7. 转移指令，子程序调用，返回指令用于解决指令调用次序的需求
8. **主存地址不能为负**

# 中央处理器

1. 控制器组成：程序计数器，指令寄存器，存储器地址寄存器，存储器数据寄存器，指令译码器，时序电路，微操作信号发生器等组成
2. 控制器的功能是：取指令，分析指令，执行指令
3. 间址周期：取出操作数的有效地址
4. 取指操作时控制器自动进行的
5. 只有在指令长度相同的情况下，所有的取指操作才是相同的
6. 单周期cpu的指令周期等于时钟周期
7. cpu，控制器通过指令周期的不同阶段判断存储器内是数据还是指令
8. 常见时序逻辑元件（状态元件）：寄存器，程序计数器
9. 常见操作元件：acc，alu，译码器，多路选择器，三态门
10. cpu读写信号作用：决定数据总线数据流方向，控制存储器操作的读写类型，控制流入流出存储器的方向
11. 水平微指令能够充分利用数据通路的并行结构
12. 一个指令等于一个微程序
13. 微指令数 = 指令数*平均每个数+公共微指令数
14. 时钟信号的宽度称为时钟周期
15. 解决结构冒险：
    1. 一个部件每条指令只能使用一次，可以避免一部分
    2. 可以设置多个独立部件
16. WB的前半个周期就可以将数据写入Ex的寄存器
17. 如果预测错误，则错误放入流水线的指令必须舍弃
18. 流水段的cpu时钟周期为 = 最长功能部件+寄存器延时

# 总线

1. 间址寻址第一次访问得到的信息经过数据总线传送到CPU
2. 控制总线的主要功能是提供定时信号，操作命令各种请求回答信号
3. 不同速度的设备可以通过异步或者同步传输
4. 异步通信中，传送操作按需分配时间
5. 同步通信中，同步信号有统一的信号时钟

# 输入输出系统

1. 中断向量可以提高中断原的识别速度
2. 中断向量地址是中断服务程序的入口地址
3. 中断分为内中断和外中断
   1. 内中断：CPU内程序中断，陷入，故障，终止（异常）
   2. 外中断：时钟，硬件故障，IO中断，键盘，磁盘，网络，定时器，鼠标中断
4. cpu会在每个存取周期（总线周期）结束后检测dma请求
5. 中断向量地址指向中断向量表，中断向量表地址指向中断程序入口地址
6. 中断分为中断响应（硬件）中断服务程序（软件）
7. 程序控制传送：直接程序传送，程序中断，通道控制，**DMA是硬件实现**
8. DMA是单子传送，每个字传送完后，cpu都可以访问内存
9. 中断优先级分为响应优先级（硬件实现）和处理优先级（软件实现，中断屏蔽字）
10. **DMA请求的是总线，CPU对DMA的响应时机是一个总线周期结束后，这里的总线周期，存取周期，机器周期，流水段时间是相同的**
11. 

