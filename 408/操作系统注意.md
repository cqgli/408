# 计算机系统概述

1. 多道程序设计的基本特征
   1. 制约性
   2. 间断性
   3. 共享性
2. 访管指令：也是陷入指令，完成CPU的状态切换
3. CPU的状态转换是在用户态执行的，就是陷入指令在用户态执行
4. 内核态执行的指令
   1. IO指令：中断屏蔽字设置指令
   2. 开关中断指令
   3. 系统调用指令
5. 内核态可以执行除访管指令外的所有指令
6. 系统调用需要保存PSW和PC，一般过程调用只需要保存PC
7. 中断过程中，硬件自动保存PC和PSW，操作系统保存剩余寄存器和进程信息
8. 微内核的主要缺点是需要频繁的切换内核，导致性能较低
9. MBR检查分区表，查找活动分区，并将分区的引导扇区内的内容PBR**加载到内存**执行
10. 操作系统过程
    1. 激活cpu
    2. jmp指令
    3. BIOS程序，构建中断向量表和相应服务程序
    4. 通电自检
    5. 在硬盘驱动操作系统

# 进程与线程

1. 就绪和运行可以互相转化：时间片到和调度
2. 动态是进程与静态程序的最大区别
3. 死锁状态下，单核cpu可以不允许任何线程
4. 进程的封闭性：就是进程不受其他线程的影响，与执行速度无关，每次运行结果都是相同的
5. 进程从运行态到阻塞态是它本身决定的
6. 不是所有的信号都可以通过用户自定义
7. 线程：
   1. 线程包含cpu现场，可以独立执行程序
   2. 进程中的线程共享存储空间
   3. 可以提高系统并发性，节约系统资源，便于进程通信
   4. 内核级线程可以在内核态运行程序，进行系统调用，用户级线程不能运行系统调用，只能在用户态执行。
   5. 用户级线程的一个线程阻塞，导致同一进程的其他线程阻塞，内核级不会
   6. 用户级线程不能在多处理器并行运行，内核级可以。
8. 父子进程共享一部分资源，但是不能全部共享，子进程存在自己的进程块
9. 创建进程的原因
   1. 用户登录
   2. 高级调度
   3. 系统处理用户程序请求
   4. 用户程序应用请求
10. 在多线程和页式管理中，进程切换需要修改程序计数器的值，栈基地址的值，页基地址的值，更新进程打开文件表
    1. 线程切换需要修改程序计数器的值和栈基地址的值
11. 时间片轮转法，适合人机交互和分时系统
12. 系统开销最小的算法是FCFS算法
13. 进程处于临界区时，仍然可以被调度
14. 可重入代码：就是可以共享访问的代码，不可以被修改
15. 管程

    1. 可以用于进程的同步和互斥

16. **回退：从此刻状态退回到一分钟以前的状态**

17. 死锁预防的处理方法

    4. 破坏循环等待（Circular Wait）  
       
       资源有序分配法

    ---

    2. 死锁避免（Deadlock Avoidance）

    1. 银行家算法（Banker's Algorithm）  
       
    2. 资源分配图算法（适用于单实例资源）    

    ---

    3. 死锁检测（Deadlock Detection）

    1. 资源分配图（RAG）检测法   
       
    2. 超时检测法  

    ---

    4. 死锁解除（Deadlock Recovery）

    1. 进程终止（Process Termination）  

    2. 资源抢占（Resource Preemption）   

    3. 回滚（Rollback）  

18. 

    